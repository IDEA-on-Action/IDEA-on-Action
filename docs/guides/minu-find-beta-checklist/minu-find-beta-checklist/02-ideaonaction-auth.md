# 02. ideaonaction.ai 인증/구독 시스템 테스트

> **대상**: ideaonaction.ai (부모 플랫폼)  
> **목적**: 인증, 구독, 결제 시스템의 Minu Find 연동 검증  
> **담당자**: ________________  
> **테스트일**: ____년 __월 __일

---

## 2.1 로그인 플로우 테스트

### 기본 로그인

| 시나리오 | 테스트 단계 | 예상 결과 | 실제 결과 | 통과 |
|----------|------------|----------|----------|------|
| **이메일/비밀번호 로그인** | | | | |
| 1 | find.minu.best에서 "로그인" 클릭 | ideaonaction.ai/login으로 이동 | | ☐ |
| 2 | redirect 파라미터 확인 | ?redirect=find.minu.best 포함 | | ☐ |
| 3 | 올바른 자격증명 입력 | 로그인 처리 중 표시 | | ☐ |
| 4 | 로그인 성공 | find.minu.best로 리다이렉트 | | ☐ |
| 5 | 세션 상태 확인 | 로그인 상태 유지, 사용자 정보 표시 | | ☐ |

### 소셜 로그인 (해당 시)

| 프로바이더 | 로그인 | 콜백 | 세션 생성 | find.minu.best 리다이렉트 |
|-----------|--------|------|----------|-------------------------|
| Google | ☐ | ☐ | ☐ | ☐ |
| GitHub | ☐ | ☐ | ☐ | ☐ |
| Kakao | ☐ | ☐ | ☐ | ☐ |

### 로그인 실패 케이스

| 시나리오 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------|----------|------|
| 잘못된 이메일 | 에러 메시지 표시 | | ☐ |
| 잘못된 비밀번호 | 에러 메시지 표시 | | ☐ |
| 비활성화된 계정 | 계정 상태 안내 | | ☐ |
| 이메일 미인증 계정 | 인증 요청 안내 | | ☐ |

---

## 2.2 로그아웃 플로우 테스트

| 시나리오 | 테스트 단계 | 예상 결과 | 실제 결과 | 통과 |
|----------|------------|----------|----------|------|
| **find.minu.best에서 로그아웃** | | | | |
| 1 | 로그아웃 버튼 클릭 | 로그아웃 처리 | | ☐ |
| 2 | 세션 삭제 확인 | 쿠키/토큰 삭제됨 | | ☐ |
| 3 | 보호된 페이지 접근 시도 | 로그인 페이지로 이동 | | ☐ |
| 4 | ideaonaction.ai 세션 확인 | 동시 로그아웃됨 | | ☐ |

| **다중 탭 로그아웃** | | | | |
| 1 | find.minu.best 탭1, 탭2 열기 | 둘 다 로그인 상태 | | ☐ |
| 2 | 탭1에서 로그아웃 | 로그아웃 처리 | | ☐ |
| 3 | 탭2 새로고침 | 로그아웃 상태 반영 | | ☐ |

---

## 2.3 토큰/세션 관리

### JWT 토큰 검증

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| 토큰 발급 | 로그인 시 JWT 정상 발급 | | ☐ |
| 토큰 구조 | header.payload.signature 형식 | | ☐ |
| 페이로드 내용 | user_id, email, exp 등 포함 | | ☐ |
| 토큰 만료 시간 | 설정값과 일치 (예: 1시간) | | ☐ |
| 토큰 저장 위치 | httpOnly 쿠키 / localStorage | | ☐ |

### 토큰 갱신 (Refresh)

| 시나리오 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------|----------|------|
| Access 토큰 만료 전 갱신 요청 | 새 토큰 발급 | | ☐ |
| Access 토큰 만료 후 API 호출 | 자동 갱신 후 재시도 | | ☐ |
| Refresh 토큰 만료 | 재로그인 유도 | | ☐ |
| 유효하지 않은 Refresh 토큰 | 재로그인 유도 | | ☐ |

### 세션 만료 시나리오

| 테스트 | 절차 | 예상 결과 | 통과 |
|--------|------|----------|------|
| 세션 타임아웃 | 설정 시간 경과 후 접근 | 재로그인 유도 | ☐ |
| 강제 로그아웃 | 관리자가 세션 무효화 | 즉시 로그아웃 | ☐ |
| 비밀번호 변경 | 다른 기기에서 비밀번호 변경 | 기존 세션 무효화 | ☐ |

---

## 2.4 구독 상태 연동 테스트

### 테스트 계정 준비

| 계정 유형 | 이메일 | 비밀번호 | 구독 상태 |
|-----------|--------|----------|----------|
| 무료 체험 | | | Trial |
| Basic 구독 | | | Basic |
| Pro 구독 | | | Pro |
| Enterprise | | | Enterprise |
| 만료됨 | | | Expired |
| 일시정지 | | | Paused |
| 프로모션 | | | Promo |

### 구독 상태별 접근 권한

#### 무료 체험 (Trial)

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 대시보드 접근 | ✅ 가능 | | ☐ |
| 프로젝트 검색 | ✅ 가능 | | ☐ |
| AI 분석 | ✅ 가능 (제한) | | ☐ |
| 남은 체험 기간 표시 | ✅ 표시됨 | | ☐ |
| 체험 종료 경고 | ✅ D-7, D-3, D-1 알림 | | ☐ |

#### Basic 플랜

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 4개 플랫폼 검색 | ✅ 가능 | | ☐ |
| 5번째 플랫폼 검색 시도 | ❌ 업그레이드 유도 | | ☐ |
| 월 50건 분석 | ✅ 가능 | | ☐ |
| 51번째 분석 시도 | ❌ 한도 초과 안내 | | ☐ |
| 이메일 알림 | ✅ 가능 | | ☐ |
| Slack 알림 | ❌ Pro 기능 표시 | | ☐ |

#### Pro 플랜

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 6개+ 플랫폼 검색 | ✅ 가능 | | ☐ |
| 월 300건 분석 | ✅ 가능 | | ☐ |
| AI 고급 분석 | ✅ 가능 | | ☐ |
| 전체 알림 채널 | ✅ 가능 | | ☐ |
| 6개월 히스토리 | ✅ 가능 | | ☐ |
| API 접근 | ❌ Enterprise 기능 표시 | | ☐ |

#### Enterprise 플랜

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 전체 플랫폼 | ✅ 가능 | | ☐ |
| 무제한 분석 | ✅ 가능 | | ☐ |
| API 접근 | ✅ 가능 | | ☐ |
| 팀 10명 | ✅ 가능 | | ☐ |
| 우선 지원 | ✅ 가능 | | ☐ |

#### 만료된 구독 (Expired)

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 대시보드 접근 | ✅ 읽기만 가능 | | ☐ |
| 새 검색 | ❌ 차단, 구독 유도 | | ☐ |
| 기존 데이터 조회 | ✅ 가능 | | ☐ |
| 데이터 내보내기 | ✅ 가능 (30일 이내) | | ☐ |
| 구독 재개 CTA | ✅ 표시됨 | | ☐ |

#### 일시정지 (Paused)

| 기능 | 예상 접근 | 실제 결과 | 통과 |
|------|----------|----------|------|
| 대시보드 접근 | ✅ 읽기만 가능 | | ☐ |
| 새 기능 사용 | ❌ 일시정지 안내 | | ☐ |
| 데이터 보존 | ✅ 유지됨 | | ☐ |
| 재개 버튼 | ✅ 표시됨 | | ☐ |

---

## 2.5 구독 변경 시나리오

### 신규 구독

| 단계 | 테스트 내용 | 예상 결과 | 실제 결과 | 통과 |
|------|------------|----------|----------|------|
| 1 | find.minu.best에서 "구독하기" 클릭 | ideaonaction.ai/billing 이동 | | ☐ |
| 2 | Basic 플랜 선택 | 결제 페이지 이동 | | ☐ |
| 3 | 결제 정보 입력 | 카드 정보 입력 폼 | | ☐ |
| 4 | 결제 완료 | 성공 메시지 표시 | | ☐ |
| 5 | find.minu.best 복귀 | Basic 기능 즉시 활성화 | | ☐ |
| 6 | 구독 상태 확인 | "Basic" 표시 | | ☐ |

### 플랜 업그레이드 (Basic → Pro)

| 단계 | 테스트 내용 | 예상 결과 | 실제 결과 | 통과 |
|------|------------|----------|----------|------|
| 1 | 설정 > 구독 관리 | 현재 플랜 표시 | | ☐ |
| 2 | "Pro로 업그레이드" 클릭 | 업그레이드 안내 | | ☐ |
| 3 | 차액 계산 확인 | 일할 계산 정확 | | ☐ |
| 4 | 결제 진행 | 차액만 결제 | | ☐ |
| 5 | find.minu.best 확인 | Pro 기능 즉시 활성화 | | ☐ |

### 플랜 다운그레이드 (Pro → Basic)

| 단계 | 테스트 내용 | 예상 결과 | 실제 결과 | 통과 |
|------|------------|----------|----------|------|
| 1 | 설정 > 구독 관리 | 현재 플랜 표시 | | ☐ |
| 2 | "Basic으로 변경" 클릭 | 다운그레이드 경고 | | ☐ |
| 3 | 기능 제한 안내 확인 | 잃게 될 기능 목록 | | ☐ |
| 4 | 변경 확인 | 다음 결제일부터 적용 안내 | | ☐ |
| 5 | 현재 기간 중 | Pro 기능 유지 | | ☐ |
| 6 | 다음 결제일 이후 | Basic으로 전환 | | ☐ |

### 구독 해지

| 단계 | 테스트 내용 | 예상 결과 | 실제 결과 | 통과 |
|------|------------|----------|----------|------|
| 1 | "구독 해지" 클릭 | 해지 확인 모달 | | ☐ |
| 2 | 해지 사유 선택 | 피드백 폼 | | ☐ |
| 3 | 해지 확인 | 잔여 기간 안내 | | ☐ |
| 4 | 잔여 기간 중 | 기존 기능 사용 가능 | | ☐ |
| 5 | 만료일 이후 | 기능 제한 적용 | | ☐ |
| 6 | 데이터 보관 | 30일간 데이터 유지 | | ☐ |

### 구독 재개

| 단계 | 테스트 내용 | 예상 결과 | 실제 결과 | 통과 |
|------|------------|----------|----------|------|
| 1 | 해지 후 "재구독" 클릭 | 플랜 선택 화면 | | ☐ |
| 2 | 이전 플랜 선택 | 결제 진행 | | ☐ |
| 3 | 결제 완료 | 즉시 활성화 | | ☐ |
| 4 | 기존 데이터 확인 | 복원됨 (30일 이내) | | ☐ |

---

## 2.6 결제 실패 처리

| 시나리오 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------|----------|------|
| 카드 한도 초과 | 결제 실패 안내, 재시도 유도 | | ☐ |
| 카드 만료 | 카드 정보 업데이트 요청 | | ☐ |
| 자동 결제 실패 | 이메일 알림 발송 | | ☐ |
| 유예 기간 (Grace Period) | 3일간 서비스 유지 | | ☐ |
| 유예 기간 후 | 구독 일시정지 | | ☐ |
| 결제 정보 업데이트 후 | 자동 재결제 시도 | | ☐ |

---

## 2.7 사용량 제한 테스트

### 월간 사용량 카운팅

| 테스트 | 절차 | 예상 결과 | 통과 |
|--------|------|----------|------|
| 분석 1건 실행 | 분석 기능 사용 | 카운트 +1 | ☐ |
| 사용량 표시 | 대시보드 확인 | "5/50건 사용" 형태 | ☐ |
| 80% 도달 | 40건 사용 | 경고 알림 | ☐ |
| 100% 도달 | 50건 사용 | 한도 초과 안내 | ☐ |
| 추가 사용 시도 | 51번째 분석 | 차단 + 업그레이드 유도 | ☐ |

### 월초 리셋

| 테스트 | 절차 | 예상 결과 | 통과 |
|--------|------|----------|------|
| 결제일 기준 리셋 | 결제 주기 시작일 | 사용량 0으로 초기화 | ☐ |
| 리셋 후 확인 | 대시보드 확인 | "0/50건 사용" 표시 | ☐ |

---

## 2.8 프로모션/쿠폰 테스트

### 프로모션 코드 적용

| 시나리오 | 테스트 내용 | 예상 결과 | 통과 |
|----------|------------|----------|------|
| 유효한 코드 입력 | "BETA2024" 입력 | 할인 적용됨 | ☐ |
| 할인율 확인 | 결제 금액 | 정확한 계산 | ☐ |
| 만료된 코드 | 기간 지난 코드 | 에러 메시지 | ☐ |
| 이미 사용한 코드 | 1회용 코드 재사용 | 에러 메시지 | ☐ |
| 조건 불충족 코드 | Pro 전용 코드를 Basic에 | 에러 메시지 | ☐ |

### 프로모션 만료 후

| 시나리오 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------|----------|------|
| 프로모션 기간 종료 | 정상 요금 안내 | | ☐ |
| 다음 결제 | 정상 요금 청구 | | ☐ |
| 프로모션 만료 알림 | D-7, D-3, D-1 알림 | | ☐ |

---

## 📊 테스트 결과 요약

| 카테고리 | 전체 항목 | 통과 | 실패 | 통과율 |
|----------|----------|------|------|--------|
| 로그인 플로우 | | | | % |
| 로그아웃 플로우 | | | | % |
| 토큰/세션 관리 | | | | % |
| 구독 상태 연동 | | | | % |
| 구독 변경 | | | | % |
| 결제 실패 처리 | | | | % |
| 사용량 제한 | | | | % |
| 프로모션/쿠폰 | | | | % |
| **전체** | | | | **%** |

---

## 🚨 발견된 이슈

### Critical
| # | 시나리오 | 이슈 설명 | 재현 단계 |
|---|----------|----------|----------|
| 1 | | | |

### Major
| # | 시나리오 | 이슈 설명 | 재현 단계 |
|---|----------|----------|----------|
| 1 | | | |

### Minor
| # | 시나리오 | 이슈 설명 | 재현 단계 |
|---|----------|----------|----------|
| 1 | | | |

---

## ✅ 최종 확인

- ☐ 모든 로그인/로그아웃 시나리오 통과
- ☐ 모든 구독 상태별 접근 권한 정상
- ☐ 구독 변경 플로우 정상
- ☐ 결제 실패 처리 정상
- ☐ Critical 이슈 없음

**검증자**: ________________  
**검증 완료일**: ____년 __월 __일  
**서명**: ________________

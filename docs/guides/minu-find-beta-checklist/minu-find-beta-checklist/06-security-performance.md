# 06. 보안 및 성능 테스트

> **대상**: 전체 시스템 (ideaonaction.ai, minu.best, find.minu.best)  
> **목적**: 보안 취약점 점검 및 성능 검증  
> **담당자**: ________________  
> **테스트일**: ____년 __월 __일

---

## 6.1 HTTPS 및 인증서

### SSL/TLS 인증서

| 도메인 | HTTPS | 인증서 유효 | 만료일 | 통과 |
|--------|-------|------------|--------|------|
| ideaonaction.ai | ☐ | ☐ | | ☐ |
| minu.best | ☐ | ☐ | | ☐ |
| find.minu.best | ☐ | ☐ | | ☐ |

### HTTPS 리다이렉션

| 테스트 | URL | 예상 결과 | 실제 결과 | 통과 |
|--------|-----|----------|----------|------|
| HTTP → HTTPS | http://minu.best | 301 → https | | ☐ |
| HTTP → HTTPS | http://find.minu.best | 301 → https | | ☐ |
| HTTP → HTTPS | http://ideaonaction.ai | 301 → https | | ☐ |

### 보안 헤더

| 헤더 | 권장 값 | minu.best | find.minu.best | 통과 |
|------|---------|-----------|----------------|------|
| Strict-Transport-Security | max-age=31536000 | ☐ | ☐ | ☐ |
| X-Content-Type-Options | nosniff | ☐ | ☐ | ☐ |
| X-Frame-Options | DENY/SAMEORIGIN | ☐ | ☐ | ☐ |
| X-XSS-Protection | 1; mode=block | ☐ | ☐ | ☐ |
| Content-Security-Policy | 적절한 정책 | ☐ | ☐ | ☐ |
| Referrer-Policy | strict-origin | ☐ | ☐ | ☐ |

---

## 6.2 인증/인가 보안

### 세션 관리

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| 세션 ID 길이 | 충분한 엔트로피 (128bit+) | | ☐ |
| 세션 ID 재생성 | 로그인 후 재생성 | | ☐ |
| 세션 타임아웃 | 적절한 만료 시간 | | ☐ |
| 동시 세션 제한 | 다중 로그인 정책 | | ☐ |
| 세션 무효화 | 로그아웃 시 즉시 무효화 | | ☐ |

### JWT 보안

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| 알고리즘 | RS256 또는 ES256 | | ☐ |
| 비밀키 관리 | 환경 변수, 안전한 저장 | | ☐ |
| 토큰 만료 | 적절한 만료 시간 | | ☐ |
| 페이로드 최소화 | 민감정보 미포함 | | ☐ |
| None 알고리즘 차단 | alg: none 거부 | | ☐ |

### 비밀번호 정책

| 항목 | 정책 | 적용 확인 | 통과 |
|------|------|----------|------|
| 최소 길이 | 8자 이상 | ☐ | ☐ |
| 복잡성 | 대/소문자, 숫자, 특수문자 | ☐ | ☐ |
| 해시 알고리즘 | bcrypt/Argon2 | ☐ | ☐ |
| Salt | 개별 Salt 적용 | ☐ | ☐ |
| 이전 비밀번호 재사용 | 최근 N개 금지 | ☐ | ☐ |

---

## 6.3 입력 검증 및 출력 인코딩

### XSS (Cross-Site Scripting) 테스트

| 입력 위치 | 테스트 페이로드 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------------|----------|----------|------|
| 검색창 | `<script>alert(1)</script>` | 이스케이프/차단 | | ☐ |
| 프로필 이름 | `<img onerror=alert(1) src=x>` | 이스케이프/차단 | | ☐ |
| 프로필 소개 | `<svg onload=alert(1)>` | 이스케이프/차단 | | ☐ |
| URL 파라미터 | `?q=<script>alert(1)</script>` | 이스케이프/차단 | | ☐ |
| 알림 설정 키워드 | `javascript:alert(1)` | 이스케이프/차단 | | ☐ |

### SQL Injection 테스트

| 입력 위치 | 테스트 페이로드 | 예상 결과 | 실제 결과 | 통과 |
|----------|----------------|----------|----------|------|
| 검색창 | `' OR '1'='1` | 정상 처리 | | ☐ |
| 검색창 | `'; DROP TABLE users;--` | 정상 처리 | | ☐ |
| 로그인 이메일 | `admin'--` | 로그인 실패 | | ☐ |
| ID 파라미터 | `1 OR 1=1` | 정상 처리 | | ☐ |

### CSRF (Cross-Site Request Forgery)

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| CSRF 토큰 | 폼에 토큰 포함 | ☐ | ☐ |
| 토큰 검증 | 서버에서 검증 | ☐ | ☐ |
| SameSite 쿠키 | Strict/Lax 설정 | ☐ | ☐ |
| Referer 검사 | Origin/Referer 헤더 검증 | ☐ | ☐ |

---

## 6.4 API 보안

### Rate Limiting

| 엔드포인트 | 제한 | 테스트 방법 | 결과 | 통과 |
|-----------|------|------------|------|------|
| POST /api/auth/login | 5회/분 | 연속 6회 시도 | | ☐ |
| GET /api/projects | 100회/분 | 연속 요청 | | ☐ |
| POST /api/analyze | 10회/분 | 연속 요청 | | ☐ |
| 전체 API | 1000회/시간 | 부하 테스트 | | ☐ |

### API 인증

| 테스트 | 방법 | 예상 결과 | 실제 결과 | 통과 |
|--------|------|----------|----------|------|
| 토큰 없이 접근 | 헤더 없이 요청 | 401 Unauthorized | | ☐ |
| 잘못된 토큰 | 변조된 토큰 | 401 Unauthorized | | ☐ |
| 만료된 토큰 | 만료 토큰 사용 | 401 Unauthorized | | ☐ |
| 다른 사용자 리소스 | 타인 데이터 접근 | 403 Forbidden | | ☐ |

### API 응답 보안

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| 에러 메시지 | 상세 정보 미노출 | ☐ | ☐ |
| 스택 트레이스 | 프로덕션에서 숨김 | ☐ | ☐ |
| 민감 정보 | 응답에서 제외 | ☐ | ☐ |
| CORS | 허용 도메인만 | ☐ | ☐ |

### CORS 설정

| 출처 | 허용 여부 | 실제 결과 | 통과 |
|------|----------|----------|------|
| https://minu.best | ✅ 허용 | | ☐ |
| https://find.minu.best | ✅ 허용 | | ☐ |
| https://ideaonaction.ai | ✅ 허용 | | ☐ |
| https://evil.com | ❌ 차단 | | ☐ |
| http://localhost:3000 | (개발만) | | ☐ |

---

## 6.5 데이터 보호

### 민감 정보 저장

| 데이터 유형 | 암호화 방식 | 확인 | 통과 |
|------------|------------|------|------|
| 비밀번호 | bcrypt/Argon2 해시 | ☐ | ☐ |
| API 키 | AES-256 암호화 | ☐ | ☐ |
| 결제 정보 | PCI DSS 준수 | ☐ | ☐ |
| 개인정보 | 필요시 암호화 | ☐ | ☐ |

### 환경 변수 관리

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| .env 파일 | .gitignore에 포함 | ☐ | ☐ |
| 비밀키 노출 | 코드에 하드코딩 없음 | ☐ | ☐ |
| 프로덕션 분리 | 환경별 변수 분리 | ☐ | ☐ |
| 시크릿 관리 | Vercel Secrets 등 사용 | ☐ | ☐ |

### 로그 보안

| 항목 | 확인 내용 | 결과 | 통과 |
|------|----------|------|------|
| 비밀번호 로깅 | 절대 로깅 안 함 | ☐ | ☐ |
| 토큰 로깅 | 마스킹 처리 | ☐ | ☐ |
| 개인정보 로깅 | 최소화/마스킹 | ☐ | ☐ |
| 로그 접근 권한 | 관리자만 접근 | ☐ | ☐ |

---

## 6.6 성능 테스트

### Lighthouse 점수 (모든 사이트)

#### minu.best

| 페이지 | Performance | Accessibility | Best Practices | SEO | 통과 |
|--------|-------------|---------------|----------------|-----|------|
| / | /100 | /100 | /100 | /100 | ☐ |
| /services/find | /100 | /100 | /100 | /100 | ☐ |
| /pricing | /100 | /100 | /100 | /100 | ☐ |

**목표: 모든 항목 90점 이상**

#### find.minu.best

| 페이지 | Performance | Accessibility | Best Practices | SEO | 통과 |
|--------|-------------|---------------|----------------|-----|------|
| 대시보드 | /100 | /100 | /100 | /100 | ☐ |
| 검색 | /100 | /100 | /100 | /100 | ☐ |
| 상세 | /100 | /100 | /100 | /100 | ☐ |

### Core Web Vitals

| 메트릭 | 목표 | minu.best | find.minu.best | 통과 |
|--------|------|-----------|----------------|------|
| LCP (Largest Contentful Paint) | < 2.5s | | | ☐ |
| FID (First Input Delay) | < 100ms | | | ☐ |
| CLS (Cumulative Layout Shift) | < 0.1 | | | ☐ |
| TTFB (Time to First Byte) | < 800ms | | | ☐ |
| FCP (First Contentful Paint) | < 1.8s | | | ☐ |

### API 응답 시간

| API 엔드포인트 | 목표 | P50 | P95 | P99 | 통과 |
|---------------|------|-----|-----|-----|------|
| GET /api/projects | < 500ms | | | | ☐ |
| GET /api/projects/:id | < 300ms | | | | ☐ |
| GET /api/projects/search | < 800ms | | | | ☐ |
| POST /api/analyze | < 5s | | | | ☐ |
| GET /api/user/profile | < 300ms | | | | ☐ |
| POST /api/auth/login | < 1s | | | | ☐ |

### 부하 테스트

| 시나리오 | 동시 사용자 | 요청/초 | 응답 시간 | 에러율 | 통과 |
|----------|------------|---------|----------|--------|------|
| 정상 부하 | 50 | 100 | < 500ms | < 1% | ☐ |
| 피크 부하 | 100 | 200 | < 1s | < 5% | ☐ |
| 스트레스 | 200 | 500 | < 3s | < 10% | ☐ |

### 데이터베이스 성능

| 쿼리 유형 | 목표 | 실제 | 인덱스 | 통과 |
|----------|------|------|--------|------|
| 프로젝트 목록 | < 100ms | | ☐ | ☐ |
| 프로젝트 검색 | < 200ms | | ☐ | ☐ |
| 사용자 조회 | < 50ms | | ☐ | ☐ |
| 북마크 조회 | < 100ms | | ☐ | ☐ |

---

## 6.7 가용성 및 장애 복구

### 에러 핸들링

| 시나리오 | 예상 동작 | 실제 동작 | 통과 |
|----------|----------|----------|------|
| DB 연결 실패 | 에러 페이지, 재시도 | | ☐ |
| API 타임아웃 | 타임아웃 메시지, 재시도 옵션 | | ☐ |
| 네트워크 오류 | 오프라인 안내 | | ☐ |
| 서버 500 에러 | 일반 에러 페이지 | | ☐ |

### 백업 및 복구

| 항목 | 설정 | 확인 | 통과 |
|------|------|------|------|
| DB 자동 백업 | 일간 | ☐ | ☐ |
| 백업 보관 기간 | 30일 | ☐ | ☐ |
| 복구 테스트 | 최근 실행일 | | ☐ |
| RTO (복구 목표 시간) | < 4시간 | ☐ | ☐ |
| RPO (복구 목표 시점) | < 24시간 | ☐ | ☐ |

---

## 6.8 보안 체크리스트 요약

### 필수 보안 항목

| 항목 | 상태 | 우선순위 |
|------|------|----------|
| HTTPS 적용 | ☐ | Critical |
| SQL Injection 방지 | ☐ | Critical |
| XSS 방지 | ☐ | Critical |
| CSRF 보호 | ☐ | Critical |
| 인증 토큰 보안 | ☐ | Critical |
| 권한 검증 | ☐ | Critical |
| Rate Limiting | ☐ | High |
| 보안 헤더 | ☐ | High |
| 민감정보 암호화 | ☐ | High |
| 로그 보안 | ☐ | Medium |

---

## 📊 테스트 결과 요약

| 카테고리 | 전체 항목 | 통과 | 실패 | 통과율 |
|----------|----------|------|------|--------|
| HTTPS/인증서 | | | | % |
| 인증/인가 | | | | % |
| 입력 검증 | | | | % |
| API 보안 | | | | % |
| 데이터 보호 | | | | % |
| Lighthouse | | | | % |
| 성능 | | | | % |
| **전체** | | | | **%** |

---

## 🚨 발견된 이슈

### Critical (보안 위험)
| # | 카테고리 | 이슈 설명 | 재현 단계 | 영향도 |
|---|----------|----------|----------|--------|
| 1 | | | | |

### Major
| # | 카테고리 | 이슈 설명 | 재현 단계 |
|---|----------|----------|----------|
| 1 | | | |

### Minor
| # | 카테고리 | 이슈 설명 | 재현 단계 |
|---|----------|----------|----------|
| 1 | | | |

---

## ✅ 최종 확인

- ☐ 모든 Critical 보안 항목 통과
- ☐ HTTPS 및 보안 헤더 적용
- ☐ Lighthouse 90점 이상
- ☐ API 응답 시간 목표 달성
- ☐ 부하 테스트 통과
- ☐ 보안 취약점 없음

**검증자**: ________________  
**검증 완료일**: ____년 __월 __일  
**서명**: ________________

# AdminNewsletter ë‚ ì§œ í•„í„° í†µí•© ì™„ë£Œ

## ì‘ì—… ê°œìš”
AdminNewsletter í˜ì´ì§€ì— DateRangePicker ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•©í•˜ì—¬ ë‚ ì§œ ê¸°ë°˜ í•„í„°ë§ ë° CSV Export ê¸°ëŠ¥ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.

## ë³€ê²½ ì‚¬í•­

### 1. Import ì¶”ê°€
```typescript
import type { DateRange } from 'react-day-picker';
import { format } from 'date-fns';
import { DateRangePicker } from '@/components/ui/date-range-picker';
```

### 2. State ê´€ë¦¬
```typescript
const [dateRange, setDateRange] = useState<DateRange | undefined>();
```

### 3. CSV Export ë‚ ì§œ íŒŒë¼ë¯¸í„° ì¶”ê°€
```typescript
<Button
  variant="outline"
  onClick={() => {
    const dateFrom = dateRange?.from ? format(dateRange.from, 'yyyy-MM-dd') : undefined;
    const dateTo = dateRange?.to ? format(dateRange.to, 'yyyy-MM-dd') : undefined;
    exportCSV.mutateAsync({
      status: statusFilter,
      search: search || undefined,
      dateFrom,
      dateTo
    });
  }}
  disabled={exportCSV.isPending || subscribers.length === 0}
>
  {/* ... */}
</Button>
```

### 4. í•„í„° UI ë ˆì´ì•„ì›ƒ ê°œì„ 
```typescript
<div className="flex flex-col gap-4 mb-6">
  <div className="flex flex-col sm:flex-row gap-4">
    {/* Search */}
    <div className="relative flex-1">
      <Input placeholder="ì´ë©”ì¼ ì£¼ì†Œ ê²€ìƒ‰..." />
    </div>

    {/* Status Filter */}
    <Select>...</Select>

    {/* Date Range Picker - ì‹ ê·œ ì¶”ê°€ */}
    <DateRangePicker
      date={dateRange}
      onDateChange={(range) => {
        setDateRange(range);
        setCurrentPage(1);
      }}
      placeholder="ë‚ ì§œ ë²”ìœ„ ì„ íƒ"
      className="w-full sm:w-[280px]"
    />
  </div>

  {/* Clear Filters Button - ì‹ ê·œ ì¶”ê°€ */}
  {(search || statusFilter !== 'all' || dateRange) && (
    <Button
      variant="ghost"
      size="sm"
      onClick={() => {
        setSearch('');
        setStatusFilter('all');
        setDateRange(undefined);
        setCurrentPage(1);
      }}
      className="w-fit"
    >
      <XCircle className="mr-2 h-4 w-4" />
      í•„í„° ì´ˆê¸°í™”
    </Button>
  )}
</div>
```

## ê¸°ëŠ¥ ìš”ì•½

### âœ… ë‚ ì§œ ë²”ìœ„ í•„í„°ë§
- ì‚¬ìš©ìê°€ íŠ¹ì • ê¸°ê°„ì˜ êµ¬ë…ìë¥¼ ì¡°íšŒ ê°€ëŠ¥
- `dateRange` ìƒíƒœë¡œ ì‹œì‘ì¼/ì¢…ë£Œì¼ ê´€ë¦¬
- ë‚ ì§œ ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ ì²« í˜ì´ì§€ë¡œ ì´ë™

### âœ… CSV Export ë‚ ì§œ íŒŒë¼ë¯¸í„°
- dateFrom, dateTo íŒŒë¼ë¯¸í„°ë¡œ ë‚ ì§œ ë²”ìœ„ ì „ë‹¬
- date-fns formatìœ¼ë¡œ "yyyy-MM-dd" ë³€í™˜
- useExportNewsletterCSV í›…ì´ ë‚ ì§œ íŒŒë¼ë¯¸í„° ì§€ì›

### âœ… í•„í„° ì´ˆê¸°í™”
- ê²€ìƒ‰ì–´, ìƒíƒœ, ë‚ ì§œ ë²”ìœ„ ì¤‘ í•˜ë‚˜ë¼ë„ í™œì„±í™”ë˜ë©´ "í•„í„° ì´ˆê¸°í™”" ë²„íŠ¼ í‘œì‹œ
- í•œ ë²ˆì˜ í´ë¦­ìœ¼ë¡œ ëª¨ë“  í•„í„° ì´ˆê¸°í™”

### âœ… ë°˜ì‘í˜• ë””ìì¸
- ëª¨ë°”ì¼: ì„¸ë¡œ ìŠ¤íƒ ë ˆì´ì•„ì›ƒ
- ë°ìŠ¤í¬í†±: ê°€ë¡œ ì •ë ¬ (Search í™•ì¥, Status/Date ê³ ì • ë„ˆë¹„)

## UI ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Newsletter Subscribers                      [CSV ë‚´ë³´ë‚´ê¸° ë²„íŠ¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í†µê³„ ì¹´ë“œ 4ê°œ (ì „ì²´, í™•ì¸ ì™„ë£Œ, í™•ì¸ ëŒ€ê¸°, êµ¬ë… ì·¨ì†Œ)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ êµ¬ë…ì ëª©ë¡                                                       â”‚
â”‚ ì´ 1,234ëª…ì˜ êµ¬ë…ì                                               â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ í•„í„° ì„¹ì…˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [ì´ë©”ì¼ ê²€ìƒ‰____] [ìƒíƒœ ì„ íƒâ–¼] [ğŸ“… ë‚ ì§œ ë²”ìœ„â–¼]              â”‚  â”‚
â”‚ â”‚ [í•„í„° ì´ˆê¸°í™”] (í•„í„° í™œì„±í™” ì‹œë§Œ í‘œì‹œ)                        â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚ [êµ¬ë…ì í…Œì´ë¸”]                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ì´ë©”ì¼          â”‚ ìƒíƒœ    â”‚ êµ¬ë…ì¼    â”‚ ê²½ë¡œ  â”‚ ì•¡ì…˜        â”‚â”‚
â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚
â”‚ â”‚ user@example.comâ”‚ í™•ì¸ ì™„ë£Œâ”‚ 2025-01-15â”‚ í™ˆ   â”‚ [â‹® ë©”ë‰´]   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ [í˜ì´ì§€ë„¤ì´ì…˜: ì´ì „ | ë‹¤ìŒ]                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ê²€ì¦ ê²°ê³¼

### âœ… TypeScript ê²€ì¦
- `npx tsc --noEmit` ì„±ê³µ
- 0 errors

### âœ… ë¹Œë“œ ê²€ì¦
- `npm run build` ì„±ê³µ
- ë¹Œë“œ ì‹œê°„: 29.92s
- PWA precache: 26 entries (1,545.37 KiB)

### âœ… íƒ€ì… ì•ˆì •ì„±
- DateRange íƒ€ì…: react-day-pickerì—ì„œ import
- date-fns format í•¨ìˆ˜: "yyyy-MM-dd" ë³€í™˜
- Optional chaining: dateRange?.from, dateRange?.to

## ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: íŠ¹ì • ê¸°ê°„ êµ¬ë…ì ì¡°íšŒ
1. DateRangePicker í´ë¦­
2. ì‹œì‘ì¼, ì¢…ë£Œì¼ ì„ íƒ
3. ìë™ìœ¼ë¡œ ì²« í˜ì´ì§€ë¡œ ì´ë™
4. í•´ë‹¹ ê¸°ê°„ì˜ êµ¬ë…ìë§Œ í…Œì´ë¸”ì— í‘œì‹œ

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë‚ ì§œ í•„í„° + CSV Export
1. DateRangePickerì—ì„œ 2025-01-01 ~ 2025-01-31 ì„ íƒ
2. "CSV ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­
3. 1ì›” êµ¬ë…ìë§Œ CSV íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë³µí•© í•„í„° (ê²€ìƒ‰ + ìƒíƒœ + ë‚ ì§œ)
1. ì´ë©”ì¼ ê²€ìƒ‰: "gmail.com"
2. ìƒíƒœ í•„í„°: "í™•ì¸ ì™„ë£Œ"
3. ë‚ ì§œ ë²”ìœ„: 2025-01-01 ~ 2025-01-31
4. 1ì›”ì— ê°€ì…í•œ Gmail ì‚¬ìš©ì ì¤‘ í™•ì¸ ì™„ë£Œëœ êµ¬ë…ìë§Œ ì¡°íšŒ

### ì‹œë‚˜ë¦¬ì˜¤ 4: í•„í„° ì´ˆê¸°í™”
1. ì—¬ëŸ¬ í•„í„° ì¡°í•© ì‚¬ìš©
2. "í•„í„° ì´ˆê¸°í™”" ë²„íŠ¼ í´ë¦­
3. ëª¨ë“  í•„í„°ê°€ ê¸°ë³¸ê°’ìœ¼ë¡œ ë¦¬ì…‹

## ê¸°ìˆ  ìŠ¤íƒ
- **DateRangePicker**: Radix UI Popover + react-day-picker
- **date-fns**: ë‚ ì§œ í¬ë§·íŒ… (yyyy-MM-dd)
- **React Query**: ì„œë²„ ìƒíƒœ ê´€ë¦¬ (useExportNewsletterCSV)
- **Tailwind CSS**: ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

## íŒŒì¼ ë³€ê²½
- `src/pages/admin/AdminNewsletter.tsx` (+45ì¤„)
  - Import ì¶”ê°€: DateRange, format, DateRangePicker
  - State ì¶”ê°€: dateRange
  - CSV Export ë‚ ì§œ íŒŒë¼ë¯¸í„° ì¶”ê°€
  - DateRangePicker ì»´í¬ë„ŒíŠ¸ í†µí•©
  - í•„í„° ì´ˆê¸°í™” ë²„íŠ¼ ì¶”ê°€

## ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒ ì‚¬í•­)
1. **ë‚ ì§œ í•„í„° í”„ë¦¬ì…‹** ì¶”ê°€
   - ì˜¤ëŠ˜, ì§€ë‚œ 7ì¼, ì§€ë‚œ 30ì¼, ì§€ë‚œ 90ì¼
2. **ë‚ ì§œ ë²”ìœ„ ê²€ì¦**
   - ì‹œì‘ì¼ì´ ì¢…ë£Œì¼ë³´ë‹¤ ë¯¸ë˜ì¸ ê²½ìš° ê²½ê³ 
3. **ë‚ ì§œ í•„í„° URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**
   - `/admin/newsletter?dateFrom=2025-01-01&dateTo=2025-01-31`
4. **ë‚ ì§œ ë²”ìœ„ í†µê³„**
   - ì„ íƒëœ ê¸°ê°„ì˜ ì¼ì¼ ê°€ì…ì ì°¨íŠ¸

## ì°¸ê³  ìë£Œ
- [DateRangePicker ì»´í¬ë„ŒíŠ¸](src/components/ui/date-range-picker.tsx)
- [useNewsletterAdmin í›…](src/hooks/useNewsletterAdmin.ts)
- [Newsletter íƒ€ì… ì •ì˜](src/types/newsletter.types.ts)

# AdminTeam 관리 가이드

## 개요

### 목적
AdminTeam 페이지는 회사의 팀원 정보를 관리하는 관리자 전용 페이지입니다. 팀원의 이름, 역할, 소개, 스킬, 소셜 링크 등을 등록하고 관리할 수 있습니다.

### 주요 기능
- 팀원 목록 조회
- 팀원 검색 및 필터링 (활성 상태)
- 팀원 생성, 수정, 삭제
- 활성/비활성 상태 토글
- 우선순위 관리
- 소셜 링크 관리 (GitHub, LinkedIn, Twitter, Website)

### 접근 권한
- **필요 권한**: Admin 이상 (editor, admin, super_admin)
- **접근 경로**: `/admin/team`

---

## 화면 구성

### 목록 화면
- **상단**: 페이지 제목, "새 팀원 추가" 버튼
- **검색 및 필터**:
  - 검색창: 이름, 역할, 이메일로 검색
  - 활성 상태 필터: 전체 상태, 활성, 비활성
- **테이블 컬럼**:
  - 아바타: 팀원 프로필 이미지 (10x10 픽셀 원형)
  - 이름: 팀원 이름
  - 역할: 팀원 역할 (예: Founder & CEO)
  - 이메일: 팀원 이메일
  - 스킬: 팀원 스킬 뱃지 (최대 3개 표시 +N개)
  - 소셜: GitHub, LinkedIn, Twitter, Website 아이콘 링크
  - 활성: 스위치 토글
  - 우선순위: 우선순위 숫자 뱃지
  - 작업: 수정, 삭제 버튼

### 생성/편집 화면
- **모달 다이얼로그** 형태로 표시
- **스크롤 가능**: 최대 높이 90vh, 초과 시 스크롤
- **폼 필드**:
  - 기본 정보: 이름, 역할, 소개
  - 미디어: 아바타 URL, 이메일
  - 스킬: 쉼표로 구분된 스킬 목록
  - 소셜 링크: GitHub, LinkedIn, Twitter, Website
  - 설정: 우선순위, 활성 여부

---

## 기능 사용법

### 1. 조회

#### 목록 조회
1. `/admin/team` 페이지에 접속합니다.
2. 등록된 모든 팀원이 테이블로 표시됩니다.
3. 각 팀원의 아바타, 이름, 역할, 스킬, 소셜 링크를 한눈에 확인할 수 있습니다.

#### 검색
1. 상단 검색창에 이름, 역할, 이메일의 일부를 입력합니다.
2. 입력과 동시에 실시간으로 필터링됩니다.
3. 검색어는 대소문자 구분 없이 동작합니다.

#### 필터링
- **활성 상태 필터**:
  - 전체 상태: 모든 팀원 표시
  - 활성: active=true인 팀원만 표시
  - 비활성: active=false인 팀원만 표시

#### 정렬
- 기본 정렬: 우선순위 높은 순 (priority DESC), 이름 오름차순
- 테이블 헤더 클릭으로 정렬 변경 불가 (현재 버전)

---

### 2. 생성

#### 필수 입력 항목
- **이름** (필수): 팀원 이름 (예: 홍길동)
- **역할** (필수): 팀원 역할 (예: Founder & CEO)

#### 선택 입력 항목
- **소개**: 팀원 소개 (텍스트 영역)
- **아바타 URL**: 프로필 이미지 URL (https://로 시작)
- **이메일**: 팀원 이메일 (유효한 이메일 형식)
- **스킬**: 쉼표로 구분된 스킬 목록 (예: React, TypeScript, Node.js)
- **소셜 링크**:
  - GitHub: GitHub 프로필 URL (예: https://github.com/username)
  - LinkedIn: LinkedIn 프로필 URL (예: https://linkedin.com/in/username)
  - Twitter: Twitter 프로필 URL (예: https://twitter.com/username)
  - Website: 개인 웹사이트 URL (예: https://example.com)
- **우선순위**: 숫자 (높을수록 먼저 표시, 기본값 0)
- **활성 여부**: 활성화 시 사용자에게 표시 (기본값: true)

#### 폼 검증 규칙
- **이름**: 최소 1자 이상
- **역할**: 최소 1자 이상
- **아바타 URL**: 유효한 URL 형식 또는 빈 문자열
- **이메일**: 유효한 이메일 형식 또는 빈 문자열
- **소셜 링크**: 유효한 URL 형식 또는 빈 문자열
- **우선순위**: 0 이상의 숫자

#### 저장 프로세스
1. 우측 상단 "새 팀원 추가" 버튼을 클릭합니다.
2. 모달 다이얼로그가 열립니다.
3. 필수 항목(이름, 역할)을 입력합니다.
4. 선택 항목을 필요에 따라 입력합니다.
5. 스킬은 쉼표로 구분하여 입력합니다 (예: React, TypeScript, Node.js).
6. 소셜 링크는 유효한 URL 형식으로 입력합니다.
7. "저장" 버튼을 클릭합니다.
8. 저장 중: "저장 중..." 메시지 표시, 버튼 비활성화
9. 저장 완료: "팀원 생성 완료" 토스트 메시지 표시, 모달 닫힘
10. 저장 실패: "팀원 생성 실패" 토스트 메시지 표시, 오류 내용 표시

---

### 3. 수정

#### 수정 가능 항목
- 모든 필드 수정 가능 (이름, 역할, 소개, 아바타 URL, 이메일, 스킬, 소셜 링크, 우선순위, 활성 여부)

#### 수정 불가 항목
- ID (자동 생성)
- 생성일 (createdAt)
- 수정일 (updatedAt, 자동 업데이트)

#### 수정 프로세스
1. 테이블에서 수정하려는 팀원의 "수정" 버튼(연필 아이콘)을 클릭합니다.
2. 모달 다이얼로그가 열리고 기존 값이 폼에 채워집니다.
3. 수정하려는 항목의 값을 변경합니다.
4. "저장" 버튼을 클릭합니다.
5. 저장 완료: "팀원 수정 완료" 토스트 메시지 표시, 모달 닫힘
6. 저장 실패: "팀원 수정 실패" 토스트 메시지 표시, 오류 내용 표시

#### 활성 상태 빠른 토글
- 테이블의 "활성" 스위치를 클릭하여 즉시 토글 가능
- 토글 완료: "활성 상태 변경" 토스트 메시지 표시 ("비활성화되었습니다." 또는 "활성화되었습니다.")
- 토글 실패: "상태 변경 실패" 토스트 메시지 표시

---

### 4. 삭제

#### 삭제 조건
- 관리자 권한이 있는 사용자만 삭제 가능
- 삭제된 데이터는 복구할 수 없음

#### 연관 데이터 처리
- 현재 연관 데이터 처리 로직 없음 (팀원 단독 삭제)

#### 삭제 프로세스
1. 테이블에서 삭제하려는 팀원의 "삭제" 버튼(휴지통 아이콘)을 클릭합니다.
2. 삭제 확인 다이얼로그가 표시됩니다.
3. 메시지: "정말로 이 팀원을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."
4. "삭제" 버튼을 클릭하여 확인합니다.
5. 삭제 완료: "팀원 삭제 완료" 토스트 메시지 표시
6. 삭제 실패: "팀원 삭제 실패" 토스트 메시지 표시, 오류 내용 표시

---

## 주의사항

### 데이터 일관성
- **이메일 중복**: 이메일은 고유하지 않아도 됩니다. 여러 팀원이 같은 이메일을 사용할 수 있습니다.
- **스킬 형식**: 스킬은 쉼표로 구분된 문자열로 입력하며, 시스템에서 자동으로 배열로 변환합니다.
- **URL 필드**: 아바타 URL, 소셜 링크는 유효한 URL 형식이어야 합니다 (https://로 시작).
- **우선순위**: 우선순위가 높을수록 사용자 화면에서 먼저 표시됩니다.

### 권한 관리
- **Admin 이상 필요**: editor, admin, super_admin 역할만 접근 가능합니다.
- **RLS 정책**: Supabase RLS 정책에 따라 권한이 제어됩니다.

### 에러 처리
- **네트워크 오류**: 네트워크 연결 실패 시 "알 수 없는 오류가 발생했습니다." 메시지 표시
- **필수 항목 누락**: 필수 항목 미입력 시 빨간색 오류 메시지 표시, 저장 불가
- **URL 형식 오류**: URL 필드에 잘못된 형식 입력 시 "유효한 URL을 입력하세요" 오류 메시지 표시
- **이메일 형식 오류**: 이메일 필드에 잘못된 형식 입력 시 "유효한 이메일을 입력하세요" 오류 메시지 표시

---

## FAQ

### Q1: 아바타 이미지가 없는 팀원은 어떻게 표시되나요?
**A**: 아바타 이미지가 없으면 이름의 첫 글자가 원형 배경에 표시됩니다. 예: "홍길동" → "홍"

### Q2: 스킬은 몇 개까지 입력할 수 있나요?
**A**: 스킬 개수에 제한은 없습니다. 단, 테이블에서는 최대 3개까지만 표시되고 나머지는 "+N개"로 표시됩니다. 모든 스킬은 상세 화면에서 확인할 수 있습니다.

### Q3: 우선순위는 어떻게 작동하나요?
**A**: 우선순위가 높을수록 사용자 화면에서 먼저 표시됩니다. 예를 들어, 우선순위 10인 팀원이 우선순위 5인 팀원보다 먼저 표시됩니다. 같은 우선순위일 경우 이름 오름차순으로 정렬됩니다.

### Q4: 소셜 링크는 모두 입력해야 하나요?
**A**: 아니요, 소셜 링크는 선택 항목입니다. 입력하지 않은 소셜 링크는 테이블에서 아이콘이 표시되지 않습니다.

### Q5: 비활성 상태인 팀원은 어디에서 볼 수 있나요?
**A**: 비활성 상태(active=false)인 팀원은 관리자 페이지에서만 볼 수 있습니다. 일반 사용자 화면에는 표시되지 않습니다. 활성 상태 필터에서 "비활성"을 선택하면 비활성 팀원만 볼 수 있습니다.

### Q6: 팀원 역할은 어떻게 작성하나요?
**A**: 팀원 역할은 자유롭게 작성할 수 있습니다. 예시:
- Founder & CEO
- Lead Developer
- UX/UI Designer
- Marketing Manager
- Product Owner

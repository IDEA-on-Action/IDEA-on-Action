# 사이트 재구조화 제약사항

> 기술적, 비즈니스적 제약사항 정의

**작성일**: 2025-11-23
**버전**: 1.0.0
**상태**: Draft

---

## 1. 기술적 제약사항

### 1.1 기존 스택 유지
- React 18.x + TypeScript 5.x
- Vite 5.x 빌드 도구
- Tailwind CSS 3.4.x
- shadcn/ui 컴포넌트
- Supabase 2.x 백엔드
- Vercel 배포

### 1.2 기존 기능 보존
- 인증 시스템 (OAuth, 2FA, RBAC) 유지
- 장바구니 및 결제 흐름 유지
- 토스페이먼츠 연동 유지
- 관리자 시스템 (Admin) 유지
- Newsletter 시스템 유지
- 다국어 지원 (i18n) 유지

### 1.3 URL 호환성
- 기존 URL은 301 리디렉션으로 처리
- SEO 영향 최소화 (sitemap.xml 업데이트)
- 북마크된 URL 동작 보장

### 1.4 데이터베이스
- 기존 테이블 구조 유지
- 신규 테이블 추가 시 마이그레이션 필요
- RLS 정책 유지

---

## 2. 성능 제약사항

### 2.1 번들 크기
- 초기 번들: 400KB gzip 이하
- 신규 페이지당 추가: 50KB 이하
- 코드 스플리팅 필수

### 2.2 로딩 시간
- 초기 로딩: 3초 이하
- 페이지 전환: 1초 이하
- API 응답: 2초 이하

### 2.3 Lighthouse
- Performance: 90+ 유지
- 기존 점수 대비 5점 이상 하락 금지

---

## 3. 접근성 제약사항

### 3.1 WCAG 준수
- WCAG 2.1 AA 레벨 유지
- 기존 WCAG AAA 85% 달성 수준 유지

### 3.2 브라우저 지원
- Chrome 90+
- Firefox 90+
- Safari 14+
- Edge 90+

### 3.3 디바이스 지원
- 모바일: 320px 이상
- 태블릿: 768px 이상
- 데스크톱: 1024px 이상

---

## 4. 비즈니스 제약사항

### 4.1 토스페이먼츠 심사 요건
- 서비스 가격 명시 필수
- 이용약관, 개인정보처리방침 접근 가능
- 환불정책 명시

### 4.2 브랜드 일관성
- Minu 브랜드 가이드라인 준수
- 색상, 타이포그래피, 톤앤매너 유지

### 4.3 콘텐츠 보존
- 기존 블로그 콘텐츠 (WordPress) 유지
- 기존 포트폴리오 데이터 유지
- 기존 로드맵 데이터 유지

---

## 5. 일정 제약사항

### 5.1 Phase별 기한
- Phase 1 (메뉴 재구성): 1주
- Phase 2 (프로젝트 페이지 통합): 1주
- Phase 3 (이야기 섹션 구축): 1주
- Phase 4 (실시간 동기화): 2주
- **총 기간**: 5주

### 5.2 병렬 작업
- 최대 4개 에이전트 동시 작업 가능
- 의존성 있는 작업은 순차 실행

---

## 6. 외부 서비스 제약사항

### 6.1 WordPress 연동
- 기존 WordPress REST API 사용
- API 키 및 인증 유지
- 캐싱 전략 유지 (5분 staleTime)

### 6.2 GitHub API
- Rate Limit: 5,000 requests/hour (인증 시)
- 캐싱 필수 (24시간 권장)
- Personal Access Token 관리

### 6.3 Supabase
- 기존 프로젝트 사용
- Storage 버킷 구조 유지
- Edge Function 유지

---

## 7. 제외 범위

### 7.1 이번 Phase에서 제외
- 다국어 확장 (중국어, 일본어)
- AI 챗봇 고도화
- 관리자 페이지 재구조화
- 모바일 앱 연동
- 실시간 채팅 기능

### 7.2 별도 Phase로 분리
- GitHub Actions 연동 자동화
- Webhook 기반 실시간 업데이트
- 뉴스레터 자동 발송 시스템
- A/B 테스트 시스템

---

## 8. 리스크 및 완화 방안

### 8.1 SEO 영향
- **리스크**: URL 변경으로 검색 순위 하락
- **완화**: 301 리디렉션, sitemap 업데이트, Search Console 모니터링

### 8.2 사용자 혼란
- **리스크**: 메뉴 구조 변경으로 기존 사용자 혼란
- **완화**: 리디렉션, 안내 배너, 점진적 전환

### 8.3 데이터 손실
- **리스크**: 마이그레이션 중 데이터 손실
- **완화**: 백업, 롤백 계획, 스테이징 테스트

### 8.4 성능 저하
- **리스크**: 신규 기능으로 성능 저하
- **완화**: 코드 스플리팅, 레이지 로딩, 성능 모니터링

---

## 관련 문서

- [requirements.md](./requirements.md) - 요구사항
- [acceptance-criteria.md](./acceptance-criteria.md) - 성공 기준
